<h1>SMART DOOR LOCK (IOTS PROJECT)</h1>

<h3>Introduction</h3>
The smart door lock project focus is on IOT security. From hardware to software it is supposed to adhere as much to tr64 as possible. The project features/functions were not our priority. 

<h3>Concept</h3>
The user will use a keypad to enter a code to unlock a door with a keypad to give instructions. For scalability, we have decided to let users configure their device settings through a website.
</br>

<h3>Components</h3>
<ul>
  <li>Hardware
    <ul>
      <li>esp32</li>
      <li>LCD with I2C</li>
      <li>Servo Motor</li>
    </ul>
  </li>
  <li>Website
    <ul>
      <li>NextJS</li>
      <li>ReactJS</li>
      <li>MongoDB</li>
      <li>Auth0</li>
    </ul>
  </li>
</ul>
<h3>How users are meant to operate and use the project</h3>
<h5>Setting up on the website</h5>
Users will need to set up their device to be connected to the database. To do that, the first thing a user will need to do is to register an account through the website. https://iots.vercel.app/ . After they signed in, they will click create a new device. They fill in the form then press create. Take not of the device id as you will need it later. You can create, read, update and delete your devices through the website.

<h5>Setting up on the door lock</h5>
After the user has created a new device in the website, they will go to the door lock and turn it on. After the door lock boots up, they will be prompted to add in the device id they got earlier on. 
</br>
</br>
Thats it! Your smart door is ready to work

<h3>TR64 Compliance Checklist</h3>

| TR64 Category  | Compliance Request ID |
| ------------- | ------------- |
| Cryptographic Support  | CS-01, CS-02, CS-03, CS-04, CS-05  |
| Security Function Protection  | FP-01  |
| Identification & Authentication  | IA-01, IA-02, IA-03, IA-04  |
| Data Protection  | DP-02, DP-04  |
| Access Protection  | AP-01, AP-02, AP-05  |
| Security Management  |  MT-01, MT-02  |
| Resiliency Support  | RS-03, RS-04  |
| Security Audit  | AU-01, AU-02  |
| Lifecycle Protection  | LP-01, LP-02, LP-03, LP-05, LP-06, LP-07, LP-08, LP-09  |

<h3>Attack Surfaces</h3>
<h4>Overall System</h4>
<p>

</p>

<h4>Web Server/Application</h4>
<p>
Web Server/Application consists of 3 components:
1. Webpage on Vercel
2. MongoDB Atlas
3. Auth0

Webpage compliance: CS-02;IA-01;RS-03;MT-02
CS-02;IA-01: User created passwords for Auth0 are hashed using bcrypt
RS-03: Web server is secured by vercel with security grade procedures. Presumably able to withstand malicious IoT threats such as Denial of Service (DoS).
MT-02: Users are only able to view based on the level of privilege they were assigned. 

MongoDB Atlas compliance with CS-01;CS-04;CS-05;FP-01;DP-04;RS-04;AU-01;AU-02;MT-02
CS-01: API keys are generated by Mongo. 
CS-04: RS256 asymmetric encryption algorithm is used to sign Json Web Tokens (JWTs) for authentication to web application
CS-05;FP-01: API Keys are created for trusted endpoints and are fully managed by MongoDB with industrial grade security features. 
DP-04: Role based access is assigned for different users 
RS-04: MongoDB Atlas provides a tool that enables backups of the entire database to be created easily. The backup can be used for disaster recovery in the event of an IoT attack.
AU-01;AU-02: Audit log consists of all entries, including Create, Read, Update and Delete (CRUD) as well as any successful or unsuccessful authentications. Audit logs are also secured and tamper proof. Only the authorized user with the proper credentials/API key would be able  to access it.
MT-02: Role based access is granted to specific users such that there are no over privileged accounts, which poses as a IoT security vulnerability.


Auth0 compliance with: CS-05;MT-01;IA-01;IA-02;IA-03;IA-04;DP-02;AP-01;AP-02;AP-05
CS-05;IA-01: Passwords created for specific user accounts are hashed using bcrypt before being stored in the MongoDB to ensure <bold>confidentiality</bold> of user credentials. 
IA-02: Authentication to web server has a set session expiry of 7 days before the user is prompted to sign in again.
IA-03: Unique tokens are generated and assigned to users using JWTs to guarantee the Authenticity of users
IA-04;AP-02;MT-01: Users are required to create a complex password upon signing up. 2 factor authentication is also required for users who sign in using third-party applications such as Google or Microsoft Account.
DP-02: Digital signatures
AP-01: Failure to enter password consecutively would result in an account lockout followed by blocking of the suspected user IP Address. Account owner would also be notified of the suspicious activity and given a choice to unblock the IP Address.
</p>

<h4>ESP32</h4>
<p>
CS-02;IA-01: We used a cryptographic algorithm (PBKDF2) for the password hashing with salt for better <b>confidentiality</b>.
</p>

<h3>Documentation</h3>
<h5>Website</h5>
The website is hosted on vercel and is reachable via https://iots.vercel.app/ . It uses Auth0 to authenticate users and MongoDB is used to store user data.

<h6>To get started</h6>
